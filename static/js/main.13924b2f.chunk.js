(this["webpackJsonpstudent-base"]=this["webpackJsonpstudent-base"]||[]).push([[0],{257:function(e,a,t){e.exports=t.p+"static/media/logo.214ee420.svg"},337:function(e,a,t){e.exports=t(719)},342:function(e,a,t){},516:function(e,a,t){e.exports=t.p+"static/media/admin.09d49602.jpg"},525:function(e,a){},552:function(e,a,t){},719:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(119),s=t.n(c),l=(t(342),t(9)),o=t.n(l),m=t(23),d=t(5),i=t(10),u=t(7),p=(t(510),function(){var e=Object(u.useFirebase)(),a=Object(d.g)(),n=function(){var t=Object(m.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.logout();case 3:a.push("/login"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("error Logout: ",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-light bg-white"},r.a.createElement("div",{className:"container"},r.a.createElement(i.b,{className:"navbar-brand",to:"/"},r.a.createElement("img",{src:t(257),height:"30px",alt:"logo"})),r.a.createElement("div",null,r.a.createElement("ul",{className:"navbar-nav align-items-center"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.b,{to:"/studentForm",className:"btn btn-primary mr-3 add-student-btn"},"Add Student")),r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement(i.b,{className:"nav-a dropdown-toggle",to:"!#",id:"navbarDropdown","data-toggle":"dropdown"},r.a.createElement("img",{src:t(516),height:"40px",alt:"admin img"}),r.a.createElement("span",{className:"ml-2 navbar-text"},"Name")),r.a.createElement("div",{className:"dropdown-menu"},r.a.createElement(i.b,{className:"dropdown-item",to:"!#"},"Profile"),r.a.createElement(i.b,{className:"dropdown-item",to:"!#",onClick:function(){return n()}},"Logout"),r.a.createElement("div",{className:"dropdown-divider"}),r.a.createElement(i.b,{className:"dropdown-item",to:"/studentForm"},"Add Student")))))))}),b=t(331),v=t(58),E=t(333),f=function(e){var a=e.loading;return r.a.createElement(E.BarLoader,{loading:a,color:"#e94560",width:"100%",height:"5"})},h=function(){var e=(new b.AvatarGenerator).generateRandomAvatar("avatar"),a=Object(u.useFirestore)(),t=Object(v.b)((function(e){return e.firestore.ordered.students}));Object(u.useFirestoreConnect)([{collection:"students",orderBy:["createdAt","desc"]}]);var n=function(){var e=Object(m.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.collection("students").doc(t).delete();case 3:return e.abrupt("return");case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a){return e.apply(this,arguments)}}();return t?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"py-4"},r.a.createElement("div",{className:"row"},t.map((function(a){var t=a.name,c=a.email,s=a.id;return r.a.createElement("div",{className:"col-lg-3 col-md-6 mb-4",key:s},r.a.createElement("div",{className:"card shadow text-center py-2"},r.a.createElement("div",{className:"card-body"},r.a.createElement("img",{src:e,height:"150px",style:{marginBottom:"1rem"},alt:"Avatar Img"}),r.a.createElement("h5",{className:"card-title mb-0"},t),r.a.createElement("p",{className:"text-muted small mb-4"},c),r.a.createElement(i.b,{to:"student/".concat(s),className:"btn btn-primary btn-profile"},"View Profile"),r.a.createElement("button",{className:"btn btn-edit",onClick:function(){return n(s)}},r.a.createElement("span",{className:"material-icons"},"delete_outline")))))}))))):r.a.createElement(f,{loading:u.isLoaded})},g=t(42);var N=function(e){var a=e.url,t=e.width,n=void 0===t?"100px":t,c=e.height,s=void 0===c?"100px":c;return r.a.createElement("div",{style:{width:n,height:s,margin:"auto"}},r.a.createElement("img",{src:a,alt:"User Img",className:"card-img-top rounded-circle"}))};var w=function(){var e=Object(d.h)().id,a=Object(u.useFirestore)(),t=Object(n.useState)(null),c=Object(g.a)(t,2),s=c[0],l=c[1],p=function(){var t=Object(m.a)(o.a.mark((function t(){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=a.collection("students").doc(e),t.next=4,n.get();case 4:(r=t.sent).exists&&l(r.data()),console.log("No Such Student"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log("error: ",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();if(Object(n.useEffect)((function(){p()}),[]),!s)return r.a.createElement(f,{loading:u.isLoaded});var b=s.name,v=s.email,E=s.phone,h=s.standard,w=s.address1,j=s.address2;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"py-4"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-10 mx-auto"},r.a.createElement("div",{className:"card card-body shadow"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement(N,{url:"https://i.pravatar.cc/300?img=".concat(e)})),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("ul",{className:"list-group"},r.a.createElement("li",{className:"d-flex justify-content-between align-items-center list-group-item list-group-item-action"},r.a.createElement("h3",{className:"m-0"},b),r.a.createElement(i.b,{className:"btn btn-primary",to:"/studentForm/".concat(e)},"edit profile")),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("p",null,"email: ",v),r.a.createElement("p",null,"phone: ",E),r.a.createElement("p",null,"class: ",h),r.a.createElement("p",null,"address 1: ",w),r.a.createElement("p",null,"address 2: ",j))))))))))},j=t(57),O=t(59);var x=function(e){var a=e.onChange,t=e.placeholder,n=e.name,c=e.value,s=e.type,l=void 0===s?"text":s;return r.a.createElement("input",{onChange:a,type:l,placeholder:t,name:n,value:c,className:"form-control"})};var y=function(){var e=Object(d.h)().id,a=Object(u.useFirestore)(),t=e?a.collection("students").doc(e):null,c=Object(d.g)(),s=Object(n.useState)({name:"",email:"",phone:"",standard:"",address1:"",address2:""}),l=Object(g.a)(s,2),i=l[0],p=l[1],b=function(e){var a=e.target,t=a.name,n=a.value;p(Object(O.a)({},i,Object(j.a)({},t,n)))};Object(n.useEffect)((function(){e&&v()}),[e]);var v=function(){var e=Object(m.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.get();case 3:(a=e.sent).exists&&p(a.data()),console.log("No Such Student"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var n=Object(m.a)(o.a.mark((function n(r){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),!e){n.next=13;break}return n.prev=2,n.next=5,t.update(Object(O.a)({},i,{updatedAt:a.FieldValue.serverTimestamp()}));case 5:console.log("Updated"),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(2),console.error(n.t0);case 11:n.next=14;break;case 13:a.collection("students").add(Object(O.a)({},i,{createdAt:a.FieldValue.serverTimestamp()}));case 14:c.push("/");case 15:case"end":return n.stop()}}),n,null,[[2,8]])})));return function(e){return n.apply(this,arguments)}}();return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"py-4"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-10 mx-auto"},r.a.createElement("div",{className:"card card-body shadow"},r.a.createElement("form",{onSubmit:E},r.a.createElement("div",{className:"form-row form-group mb-4"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement(x,{name:"name",placeholder:"Enter Student Name",value:i.name,onChange:b})),r.a.createElement("div",{className:"col-md-6"},r.a.createElement(x,{name:"email",placeholder:"Enter Student Email",value:i.email,onChange:b}))),r.a.createElement("div",{className:"form-row form-group mb-4"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement(x,{name:"phone",placeholder:"Enter Student Phone",value:i.phone,onChange:b})),r.a.createElement("div",{className:"col-md-6"},r.a.createElement(x,{name:"standard",placeholder:"Enter Student Standard",value:i.standard,onChange:b}))),r.a.createElement("div",{className:"form-row form-group"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement(x,{name:"address1",placeholder:"Enter Student Address1",value:i.address1,onChange:b})),r.a.createElement("div",{className:"col-md-6"},r.a.createElement(x,{name:"address2",placeholder:"Enter Student Address2",value:i.address2,onChange:b}))),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},e?"Update Student":"Add Student")))))))},S=function(){var e=Object(u.useFirebase)(),a=Object(d.g)(),c=Object(n.useState)(""),s=Object(g.a)(c,2),l=s[0],i=s[1],p=Object(n.useState)({email:"",password:""}),b=Object(g.a)(p,2),v=b[0],E=b[1],f=function(e){var a=e.target,t=a.name,n=a.value;E(Object(O.a)({},v,Object(j.a)({},t,n)))},h=function(){var t=Object(m.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,e.login(v);case 4:a.push("/"),i(""),console.log("Logged in Successfully"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),i(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"py-5"},r.a.createElement("div",{className:"row mt-5"},r.a.createElement("div",{className:"col-md-4 offset-md-4"},r.a.createElement("div",{className:"card shadow"},r.a.createElement("div",{className:"card-body"},r.a.createElement("img",{src:t(257),className:"card-img-top mb-5",alt:"Brand Logo",height:"70px"}),r.a.createElement("form",{onSubmit:h},r.a.createElement("div",{className:"form-group"},r.a.createElement(x,{name:"email",placeholder:"Enter Your Email",value:v.email,onChange:f})),r.a.createElement("div",{className:"form-group"},r.a.createElement(x,{type:"password",name:"password",placeholder:"Enter Your Password",value:v.password,onChange:f})),r.a.createElement("p",{style:{color:"#d00000",fontStyle:"italic"}},l),r.a.createElement("button",{className:"btn btn-primary btn-block"},"Login to dashboard"))))))))},k=t(336),F=function(e){var a=e.component,t=Object(k.a)(e,["component"]),n=Object(v.b)((function(e){return e.firebase.auth}));return Object(u.isLoaded)(n)?Object(u.isEmpty)(n)?r.a.createElement(d.a,{to:"/login"}):r.a.createElement(d.b,Object.assign({},t,{render:function(e){return r.a.createElement(a,Object.assign({},t,e))}})):""},C=function(){return r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement(F,{component:p}),r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",component:h}),r.a.createElement(d.b,{path:"/student/:id",component:w}),r.a.createElement(d.b,{path:"/studentForm/:id?",component:y}),r.a.createElement(d.b,{path:"/login",component:S}))))},A=(t(552),t(121)),I=t.n(A),L=(t(553),t(556),t(56)),P=t(188),R=t(335);I.a.initializeApp({apiKey:"AIzaSyCHdloNlMc86oqxwlGEEyRfbb5nPaDJdFQ",authDomain:"student-base-d55f7.firebaseapp.com",databaseURL:"https://student-base-d55f7.firebaseio.com",projectId:"student-base-d55f7",storageBucket:"student-base-d55f7.appspot.com",messagingSenderId:"529772597952",appId:"1:529772597952:web:402ed49bcfea54409f5325",measurementId:"G-EGWHTFXZ7N"}),I.a.firestore();var B=Object(L.combineReducers)({firebase:u.firebaseReducer,firestore:P.firestoreReducer}),D=Object(L.createStore)(B,{},Object(R.composeWithDevTools)()),G={firebase:I.a,config:{userProfile:"users",useFirestoreForProfile:!0},dispatch:D.dispatch,createFirestoreInstance:P.createFirestoreInstance},T=D;s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u.ReactReduxFirebaseProvider,G,r.a.createElement(v.a,{store:T},r.a.createElement(C,null)))),document.getElementById("root"))}},[[337,1,2]]]);
//# sourceMappingURL=main.13924b2f.chunk.js.map